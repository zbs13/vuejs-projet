(function(e){function t(t){for(var r,s,i=t[0],u=t[1],p=t[2],l=0,d=[];l<i.length;l++)s=i[l],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&d.push(a[s][0]),a[s]=0;for(r in u)Object.prototype.hasOwnProperty.call(u,r)&&(e[r]=u[r]);c&&c(t);while(d.length)d.shift()();return o.push.apply(o,p||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,i=1;i<n.length;i++){var u=n[i];0!==a[u]&&(r=!1)}r&&(o.splice(t--,1),e=s(s.s=n[0]))}return e}var r={},a={app:0},o=[];function s(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=r,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(n,r,function(t){return e[t]}.bind(null,r));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var p=0;p<i.length;p++)t(i[p]);var c=u;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"56d7":function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d");var r=n("2b0e"),a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("header",[n("div",{staticClass:"header-content"},[n("router-view",{attrs:{name:"header"}})],1)]),n("main",[n("router-view")],1),n("Popup")],1)},o=[],s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.popups.length>0?n("div",{staticClass:"popup-block"},e._l(e.popups,(function(t){return n("div",{key:t.id},["error"==t.type?n("div",{staticClass:"popup popup-error"},[e._v(" "+e._s(t.message)+" ")]):"success"==t.type?n("div",{staticClass:"popup popup-success"},[e._v(" "+e._s(t.message)+" ")]):e._e()])})),0):e._e()},i=[],u={name:"Popup",computed:{popups:function(){return this.$store.state.popups}}},p=u,c=n("2877"),l=Object(c["a"])(p,s,i,!1,null,null,null),d=l.exports,f={name:"App",components:{Popup:d}},m=f,h=(n("5a93"),Object(c["a"])(m,a,o,!1,null,"6fe0f039",null)),v=h.exports,g=(n("99af"),n("2909")),b=n("8c4f"),y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("Home")])},_=[],w={name:"Home"},x=w,$=Object(c["a"])(x,y,_,!1,null,null,null),j=$.exports,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex space-between align-center"},[n("div",{staticClass:"header-title"},[e._v(" Application ")]),n("div",{staticClass:"flex align-center"},[n("div",{staticClass:"p-10"},[n("SwitchApi")],1),n("div")])])},O=[],C=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("sui-button-group",{tag:"div"},[n("sui-button",{attrs:{name:"api-plateform"},on:{click:e.onClick}},[e._v("Api Plateform")]),n("sui-button-or"),n("sui-button",{attrs:{positive:"",name:"graphql"},on:{click:e.onClick}},[e._v("GraphQL")])],1)},S=[],P=(n("b0c0"),{name:"SwitchApi",methods:{onClick:function(e){console.log(e.target.name)}}}),E=P,L=Object(c["a"])(E,C,S,!1,null,null,null),A=L.exports,q={name:"ConnectedHeader",components:{SwitchApi:A}},V=q,F=Object(c["a"])(V,k,O,!1,null,null,null),T=F.exports,M=[{path:"/",components:{default:j,header:T}}],R=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("PageTitle",{attrs:{title:"Connexion"}}),n("Formik",{staticClass:"form form-login flex column",attrs:{initialValues:{mail:"",password:""},onValidate:e.onValidate},on:{onSubmit:e.onSubmit},scopedSlots:e._u([{key:"default",fn:function(){return[n("Field",{staticClass:"field",attrs:{type:"text",name:"mail",placeholder:"Mail",required:"required"}}),n("Field",{staticClass:"field",attrs:{type:"password",name:"password",placeholder:"Mot de passe",required:"required"}}),n("input",{staticClass:"cta submit",attrs:{type:"submit",value:"Se connecter"}})]},proxy:!0}])})],1)},H=[],D=(n("96cf"),n("1da1")),J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("form",{staticClass:"form",on:{submit:function(t){return t.preventDefault(),e.onSubmit(t)}}},[e._t("default")],2)},N=[],z=n("b85c"),B=n("5530"),G={name:"Formik",props:{initialValues:{type:Object},onValidate:{type:Function}},data:function(){return Object(B["a"])({},this.$props.initialValues)},methods:{onSubmit:function(e){var t=this;return Object(D["a"])(regeneratorRuntime.mark((function n(){var r,a,o,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:r=Object(z["a"])(e.target);try{for(r.s();!(a=r.n()).done;)o=a.value,o.name&&"checkbox"!==o.name&&""!==o.value?t.$data[o.name]=o.value:t.$data[o.name]=o.checked}catch(i){r.e(i)}finally{r.f()}return n.next=4,t.onValidate(t.$data);case 4:s=n.sent,s&&t.$emit("onSubmit",t.$data);case 6:case"end":return n.stop()}}),n)})))()}}},I={props:{type:{default:"text",type:String},name:{default:"",type:String},placeholder:{default:"",type:String},value:{default:"",type:String},checked:{default:"false",type:String},required:{default:"false",type:String}},render:function(){var e=arguments[0];return"checkbox"!==this.$props.type&&"select"!==this.$props.type?e("input",{attrs:{type:this.$props.type,name:this.$props.name,placeholder:this.$props.placeholder,required:this.$props.required}}):"checkbox"===this.$props.type?e("input",{attrs:{type:this.$props.type,name:this.$props.name},domProps:{checked:"true"==this.$props.checked}}):e("select",{attrs:{type:this.$props.type,name:this.$props.name}},[this.$slots.default])}},Q=G,Z=Object(c["a"])(Q,J,N,!1,null,null,null),K=Z.exports,U=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("h1",{staticClass:"page-title"},[e._v(e._s(e.title))])},W=[],X={name:"PageTitle",props:{title:{required:!0,type:String}}},Y=X,ee=Object(c["a"])(Y,U,W,!1,null,null,null),te=ee.exports,ne=(n("d81d"),n("a434"),n("d3b7"),n("2f62"));r["a"].use(ne["a"]);var re=new ne["a"].Store({state:{popups:[]},getters:{getPopups:function(e){return e.popups}},mutations:{addPopup:function(e,t){e.popups.push(t)},removePopup:function(e,t){e.popups.splice(t,1)}},actions:{addPopup:function(e,t){var n=e.commit,r=t.type,a=t.message,o=Date.now();n("addPopup",{id:o,type:r,message:a}),new Promise((function(e){setTimeout((function(){e("removePopup")}),5e3)})).then((function(e){re.dispatch(e,o)}))},removePopup:function(e,t){var n=e.commit;this.state.popups.map((function(e,r){e.id===t&&n("removePopup",r)}))}}}),ae=re,oe=n("506a"),se=oe.object().shape({mail:oe.string().email("Le mail a un format incorrect"),password:oe.string().min(7,"Le mot de passe doit contenir au moins 7 caractères").matches(/[A-Z]/,"Le mot de passe doit contenir au moins une majuscule").matches(/[a-z]/,"Le mot de passe doit contenir au moins une minuscule").matches(/[0-9]/,"Le mot de passe doit contenir au moins un numéro")});function ie(e){return ue.apply(this,arguments)}function ue(){return ue=Object(D["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=[],e.next=3,se.validate(t).catch((function(e){n.push(e.errors[0])}));case 3:if(!(n.length>0)){e.next=6;break}return ae.dispatch("addPopup",{type:"error",message:n[0]}),e.abrupt("return",!1);case 6:return e.abrupt("return",!0);case 7:case"end":return e.stop()}}),e)}))),ue.apply(this,arguments)}var pe={name:"Login",components:{Formik:K,Field:I,PageTitle:te},methods:{onSubmit:function(e){var t=e.mail,n=e.password;console.log(t),console.log(n),console.log("submitted"),ae.dispatch("addPopup",{type:"success",message:"Vous êtes loggé"})},onValidate:function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ie(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()}},ce=pe,le=Object(c["a"])(ce,R,H,!1,null,null,null),de=le.exports,fe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"flex space-between align-center"},[n("div",{staticClass:"header-title"},[e._v(" Application ")]),n("div",{staticClass:"flex align-center"},[n("div",{staticClass:"p-10"},[n("SwitchApi")],1),e.isLogin?n("div",{staticClass:"p-10"},[n("router-link",{staticClass:"link header-link",attrs:{to:"/signup"}},[e._v("Inscription")])],1):n("div",{staticClass:"p-10"},[n("router-link",{staticClass:"link header-link",attrs:{to:"/login"}},[e._v("Connexion")])],1)])])},me=[],he={name:"DisconnectedHeader",props:{isLogin:{type:Boolean,default:!1}},components:{SwitchApi:A}},ve=he,ge=Object(c["a"])(ve,fe,me,!1,null,null,null),be=ge.exports,ye=[{path:"/login",components:{default:de,header:be},props:{header:{isLogin:!0}}}],_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("Signup")])},we=[],xe={name:"Signup"},$e=xe,je=Object(c["a"])($e,_e,we,!1,null,null,null),ke=je.exports,Oe=[{path:"/signup",components:{default:ke,header:be},props:{header:{isLogin:!1}}}],Ce=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v("Not found")])},Se=[],Pe={name:"NotFound"},Ee=Pe,Le=Object(c["a"])(Ee,Ce,Se,!1,null,null,null),Ae=Le.exports;r["a"].use(b["a"]);var qe=[].concat(Object(g["a"])(M),Object(g["a"])(ye),Object(g["a"])(Oe),[{path:"/*",component:Ae}]),Ve=new b["a"]({mode:"history",routes:qe}),Fe=Ve,Te=n("080a"),Me=n.n(Te);r["a"].config.productionTip=!1,r["a"].use(Me.a),new r["a"]({router:Fe,store:ae,render:function(e){return e(v)}}).$mount("#app")},"5a93":function(e,t,n){"use strict";n("777c")},"777c":function(e,t,n){}});
//# sourceMappingURL=app.ca45ffb7.js.map